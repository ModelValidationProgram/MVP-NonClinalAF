Create SLiM variables for slurm array script
================

#### Step 1 - Read in parameter file

``` r
params <- read.delim("~/Github/MVP-NonClinalAF/src/0b-final_params.txt",sep=" ")
```

#### Step 2 - Create data.frame index for each parameter in file

This steps requires that your parameter file have column headers. These
will automatically be used for the corresponding variable names in your
unix variables.

``` r
paramIndex_df <- data.frame(names=colnames(params),number=1:ncol(params))
```

#### Step 3 - Create vector of unix command(s) for each SLiM variable

This step basically creates a unique string that represents the unix
command for calling each variable in your params file and storing in a
unix variable of the same name. The command will do this specifically
for the row that corresponds with the current array value
(`SLURM_ARRAY_TASK_ID`), which is automatically generated by the slurm
script when using arrays.

*Break down of the unix commands*

Example:

`` level=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $1}'` ``

This line of code first extracts a single line from your parameter file,
then prints one variable. In this case the row (or) line of your param
file corresponds to the current values for `SLURM_ARRAY_TASK_ID`. The
specific variable will correspond to the number, i.e., `$1`, which
represents the first value in the param list.

``` r
shell_names<- paste0(temp2$names,"=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $",temp2$number,"}'`")
write.table(t(shell_names),"~/Github/MVP-NonClinalAF/src/parameterOrderForShellScript.txt",row.names = F,col.names = F,sep = " ",quote = F)
```

#### Step 4 - Open the file your created in `Step 3` and paste it in your slurm script

The file should look something like this:

    level=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $1}'`
    reps=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $2}'`
    arch=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $3}'`
    demog_name=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $4}'`
    demog_level_sub=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $5}'`
    demog_level=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $6}'`
    MIG_x=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $7}'`
    MIG_y=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $8}'`
    xcline=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $9}'`
    ycline=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $10}'`
    demog=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $11}'`
    METAPOP_SIDE_x=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $12}'`
    METAPOP_SIDE_y=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $13}'`
    Nequal=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $14}'`
    isVariableM=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $15}'`
    MIG_breaks=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $16}'`
    arch_level_sub=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $17}'`
    arch_level=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $18}'`
    MU_base=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $19}'`
    MU_QTL_proportion=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $20}'`
    SIGMA_QTN_1=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $21}'`
    SIGMA_QTN_2=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $22}'`
    SIGMA_K_1=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $23}'`
    SIGMA_K_2=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $24}'`
    N_traits=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $25}'`
    ispleiotropy=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $26}'`
    seed=`awk NR==${SLURM_ARRAY_TASK_ID} ${params} | awk '{print $27}'`
