# SLiM parameter run log


### 2021 - July - 1 (UPDATE July 3)

**UPDATE** : I ran this on the `short` discovery partition without specifying a timelimit and only using 30G of ram per simulation. As a result, it looks like many of the simulations timed out before finishing. I revised the shell script by increasing the ram (1ooG per sim) and setting an explicit time limit (23 hours) per simulation and limiting the number of simulations running simultaneously to 5. This hopefully will be sufficient for the simulations to complete without timing out. However, it does mean that running all the sims will take substantially longer.

Description: Ran 150 slim simulations (first 150 rows of [parameter list](https://github.com/ModelValidationProgram/MVP-NonClinalAF/blob/alan/src/0b-final_params.txt)). With `N=1000` for pyslim.

**Files**

* [parameter list](https://github.com/ModelValidationProgram/MVP-NonClinalAF/blob/alan/src/0b-final_params.txt)
* [shell script](https://github.com/ModelValidationProgram/MVP-NonClinalAF/blob/alan/src/0b-final_params.txt)

**Outputs folder**

*`MVP-NonClinalAF/sim_output_150`

**Shell script specifics**

Slurm details

```
#SBATCH --job-name=SlimTest
#SBATCH --mem=30G
#SBATCH --mail-user=downey-wall.a@northeastern.edu
#SBATCH --mail-type=FAIL
#SBATCH --partition=short
#SBATCH --nodes=1
#SBATCH --array=2-151%150
#SBATCH --output=/work/lotterhos/MVP-NonClinalAF/slurm_log/SlimTest_%j.out
#SBATCH --error=/work/lotterhos/MVP-NonClinalAF/slurm_log/SlimTest_%j.err
```
User details
```
# Local working path (this should navigate to the MVP repo)
mypath="/work/lotterhos/MVP-NonClinalAF"
cd ${mypath}
# Folder within MVP where you want are your output files
outpath="sim_output_150"
mkdir -p ${outpath} # make outpath directory if it doesn't exist

# Parameter file
params="src/0b-final_params.txt"

#### User variables ####
# N for pyslim
POP=1000
# Minimum allele freq. for vcftools
MAF=0.01
```
